type Product {
  id: ID!
  name: String!
  description: String
  price: Float!
  imageUrl: String
  categories: [String!]
  sizes: [String!]
}

type CartItem {
  productId: ID!
  quantity: Int!
  size: String
}

type CartItemDetails {
  id: ID!
  userId: ID!
  productId: ID!
  name: String!
  imageUrl: String!
  price: Float!
  quantity: Int!
  size: String
}

type Order {
  id: ID!
  userId: ID!
  items: [CartItemDetails!]!
  totalPrice: Float!
  createdAt: String!
  status: String!
}

type Query {
  products(search: String, categories: [String]): [Product!]!
  product(id: ID!): Product
  orderHistory(userId: ID!): [Order!]!
  cart(userId: ID!): [CartItemDetails!]!
}

type Mutation {
  addToCart(userId: ID!, productId: ID!, quantity: Int!, size: String): [CartItem!]!
  updateCartItemQuantity(userId:ID!, productId: ID!, quantity: Int!): [CartItemDetails]
  removeFromCart(userId: ID!, productId: ID!): [CartItemDetails]
  checkout(userId: ID!): Order!
  updateOrderStatus(orderId: ID!, status: String!): Order!
  addProduct(
    name: String!
    description: String
    price: Float!
    imageUrl: String
    categories: [String!]!
    sizes: [String!]
  ): Product!
  updateProduct(
    id: ID!
    name: String
    description: String
    price: Float
    imageUrl: String
    categories: [String!] 
    sizes: [String!]
  ): Product!
  deleteProduct(id: ID!): Boolean!
}
